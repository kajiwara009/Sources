<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>You have two trees with the same number of nodes.
The nodes in each tree are labeled 0 through n-1.
<br></br>
<br></br>
<br></br>
You are given four int[]s with n-1 elements each: <b>a</b>, <b>b</b>, <b>c</b>, and <b>d</b>.
The int[]s <b>a</b> and <b>b</b> describe the first tree:
for each valid i, the first tree contains an edge between nodes labeled <b>a</b>[i] and <b>b</b>[i].
The int[]s <b>c</b> and <b>d</b> describe the second tree in the same way.
<br></br>
<br></br>
<br></br>
Each of the values 0 through n-1 has an assigned integer score.
These scores are given in an int[] <b>score</b>.
Note that some of the scores may be negative.
<br></br>
<br></br>
<br></br>
Your goal is to select a subset S of the set {0, 1, ..., n-1} with the following properties:
<ul>
<li>In the first tree, the nodes with the labels in S induce a connected subgraph (a subtree of the original tree).</li>
<li>In the second tree, the nodes with the labels in S also induce a connected subgraph.</li>
</ul>
<br></br>
<br></br>
<br></br>
Return the largest possible sum of scores assigned to the elements of such a subset S.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>DoubleTree</td></tr><tr><td>Method:</td><td>maximalScore</td></tr><tr><td>Parameters:</td><td>int[], int[], int[], int[], int[]</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int maximalScore(int[] a, int[] b, int[] c, int[] d, int[] score)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>As there are only finitely many possible subsets S and the empty subset always has the desired properties, the return value is always correctly defined.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td>n will be between 2 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> and <b>b</b> will describe a tree with exactly n ndoes.</td></tr><tr><td align="center" valign="top">-</td><td><b>c</b> and <b>d</b> will describe a tree with exactly n ndoes.</td></tr><tr><td align="center" valign="top">-</td><td><b>score</b> will contain exactly n elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>score</b> will be between -1,000 and 1,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{0,0,3}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{1000,24,100,-200}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1024</pre></td></tr><tr><td><table><tr><td colspan="2">The best subset we can choose is {0,1}.
The nodes labeled 0 and 1 are connected by an edge in each of the trees.
Note that we cannot choose {0,1,2} as in the second tree we cannot get from 0 to 2 without going through 3.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{0,0,3}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{1000,24,100,200}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1324</pre></td></tr><tr><td><table><tr><td colspan="2">As in this case all scores are positive, the best solution is to select all labels.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{0,0,3}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{-1000,-24,-100,-200}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">As in this case all scores are negative, the best solution is to select no labels at all.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{0,0,3}</pre></td></tr><tr><td><pre>{1,3,2}</pre></td></tr><tr><td><pre>{-1000,24,100,200}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 200</pre></td></tr><tr><td><table><tr><td colspan="2">The optimal solution is to choose the subset {3} - a single node is connected.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1,1,2,2}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr><tr><td><pre>{0,0,1,1,2,2}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr><tr><td><pre>{-3,2,2,-1,2,2,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">In this test case the two trees are identical. The answer is the maximum score of a subtree of this tree.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,1,1,2,2}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr><tr><td><pre>{0,0,0,0,0,0}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6}</pre></td></tr><tr><td><pre>{-3,2,2,-1,2,2,-1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
